#include <stdio.h>
#include <stdint.h>
#include <string.h>

// Converte 16 bits Big Endian para inteiro
uint16_t big_endian_to_uint16(uint8_t high, uint8_t low)
{
    return (high << 8) | low;
}

// Converte 32 bits Big Endian para inteiro
uint32_t big_endian_to_uint32(uint8_t *data)
{
    return (data[0] << 24) | (data[1] << 16) | (data[2] << 8) | data[3];
}

// Converte 16 bits Little Endian para inteiro
uint16_t little_endian_to_uint16(uint8_t low, uint8_t high)
{
    return (high << 8) | low;
}

// Converte 32 bits Little Endian para inteiro
uint32_t little_endian_to_uint32(uint8_t *data)
{
    return (data[3] << 24) | (data[2] << 16) | (data[1] << 8) | data[0];
}

// Verifica se os dados são texto ASCII imprimível
void decode_ascii(uint8_t *data, int length, char *output)
{
    for (int i = 0; i < length; i++)
    {
        if (data[i] >= 32 && data[i] <= 126)
        {
            output[i] = (char)data[i];
        }
        else
        {
            output[i] = '.'; // Substitui caracteres não imprimíveis
        }
    }
    output[length] = '\0';
}

int main()
{
    FILE *file = fopen("decodificacao_can.txt", "w");
    if (!file)
    {
        printf("Erro ao criar o arquivo!\n");
        return 1;
    }

    // Lista de mensagens CAN (Exemplo baseado nos seus dados)
    struct
    {
        uint16_t id;
        uint8_t data[8];
    } can_messages[] = {
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x43, 0x41, 0x4E, 0x20}},
        {0x605, {0x52, 0x50, 0x46, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA7, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x602, {0x52, 0x50, 0x46, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x08, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x500, {0x52, 0x57, 0x42, 0x01, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x72, 0x64, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x03, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x03, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x604, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA7, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA6, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x09, 0x00, 0x00, 0x00, 0x00}}, 
        {0x600, {0x52, 0x4C, 0x43, 0x44, 0x06, 0x01, 0x20, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x04, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x44, 0x61, 0x73, 0x68, 0x62, 0x6F, 0x61}}, 
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA6, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x07, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x52, 0x4C, 0x43, 0x44, 0x06, 0x01, 0x20, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x500, {0x52, 0x57, 0x42, 0x05, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x605, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x604, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x52, 0x4C, 0x43, 0x44, 0x06, 0x01, 0x20, 0x20}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x08, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x500, {0x52, 0x57, 0x42, 0x06, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x01, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x500, {0x52, 0x57, 0x42, 0x0B, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x500, {0x52, 0x57, 0x42, 0x04, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x43, 0x41, 0x4E, 0x20}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x603, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x32, 0x00, 0xEF, 0xFF, 0xA6, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x606, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x603, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x606, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x605, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x32, 0x00, 0xEF, 0xFF, 0xA7, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x72, 0x64, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x603, {0x52, 0x50, 0x46, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x43, 0x41, 0x4E, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x0A, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x604, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x52, 0x4C, 0x43, 0x44, 0x06, 0x01, 0x20, 0x20}}, 
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA7, 0x01}},
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x43, 0x41, 0x4E, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x03, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x01, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x602, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA6, 0x01}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0xB6, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x00, 0x00, 0x33, 0x00, 0xEF, 0xFF, 0xA6, 0x01}},
        {0x500, {0x52, 0x57, 0x42, 0x02, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x7FB, {0xFF, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x7FB, {0xFF, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x600, {0x20, 0x20, 0x20, 0x20, 0x43, 0x41, 0x4E, 0x20}}, 
        {0x500, {0x52, 0x57, 0x42, 0x02, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x603, {0x00, 0x06, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x7FB, {0xFF, 0x74, 0xFF, 0xC4, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0xAA, 0x30, 0x00, 0x66, 0x00, 0x80, 0x00, 0x00}}, 
        {0x7FB, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1E, 0xFC}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0xFB, 0xFF, 0xFA, 0xFF, 0x00, 0x00, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x6A, 0xFF, 0xCE, 0x00, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x605, {0x00, 0xFC, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x7FB, {0xFB, 0xFA, 0x28, 0x20, 0x20, 0x20, 0x00, 0x00}}, 
        {0x7FB, {0xFE, 0xE8, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x602, {0x00, 0x38, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00}},
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x500, {0x52, 0x57, 0x42, 0x0B, 0x00, 0x00, 0x00, 0x00}}, 
        {0x7FB, {0xFF, 0x7E, 0xFF, 0xB0, 0x00, 0x00, 0x00, 0x00}}, 
        {0x600, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
        {0x650, {0x11, 0x00, 0x4B, 0x00, 0x11, 0x00, 0x4B, 0x00}}, 
        {0x650, {0x78, 0x02, 0x00, 0x00, 0x78, 0x02, 0x00, 0x00}}
    };

    int num_messages = sizeof(can_messages) / sizeof(can_messages[0]);

    fprintf(file, "Decodificação das Mensagens CAN:\n\n");

    for (int i = 0; i < num_messages; i++)
    {
        uint16_t id = can_messages[i].id;
        uint8_t *data = can_messages[i].data;

        fprintf(file, "ID: 0x%03X\n", id);

        // Interpretando como texto ASCII
        char ascii_output[9];
        decode_ascii(data, 8, ascii_output);
        fprintf(file, "Texto ASCII: %s\n", ascii_output);

        // Interpretando como valores numéricos
        uint16_t be_16 = big_endian_to_uint16(data[0], data[1]);
        uint16_t le_16 = little_endian_to_uint16(data[0], data[1]);
        uint32_t be_32 = big_endian_to_uint32(data);
        uint32_t le_32 = little_endian_to_uint32(data);

        fprintf(file, "16 bits Big Endian: %d (0x%04X)\n", be_16, be_16);
        fprintf(file, "16 bits Little Endian: %d (0x%04X)\n", le_16, le_16);
        fprintf(file, "32 bits Big Endian: %u (0x%08X)\n", be_32, be_32);
        fprintf(file, "32 bits Little Endian: %u (0x%08X)\n", le_32, le_32);

        fprintf(file, "------------------------\n");
    }

    fclose(file);
    printf("Arquivo 'decodificacao_can.txt' gerado com sucesso!\n");
    return 0;
}